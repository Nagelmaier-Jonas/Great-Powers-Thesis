@using Model.Entities.Units
@using Model.Entities
@using System.Drawing
@using Model.Entities.Regions
@using Model.Factories

@if (Troops is not null){
    @foreach (var t in Troops.Select((unit, index) => ( unit, index ))){
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 95 95" class="@t.unit.Nation.Name" width="20" height="20" x="@(t.index * 25)">
            <g>
                <circle class="troopbadge-medal" cx="47.5" cy="47.5" r="47.25" stroke="white" stroke-width="2"/>
                <path class="troopbadge-medal" d="M47.5,.5c25.92,0,47,21.08,47,47s-21.08,47-47,47S.5,73.42,.5,47.5,21.58,.5,47.5,.5m0-.5C21.27,0,0,21.27,0,47.5s21.27,47.5,47.5,47.5,47.5-21.27,47.5-47.5S73.73,0,47.5,0h0Z"/>
            </g>
            <path class="troopbadge-symbol" d="@t.unit.GetStringFromDictionary(UnitPaths.Paths)"/>
        </svg>
    }
}

@code {

    [Parameter]
    public List<AUnit>? Troops { get; set; }

    private Dictionary<AUnit, Point> TroopPositioning { get; set; } = new(){
        { UnitPaths.Units[0], new Point(0, -25) },
        { UnitPaths.Units[1], new Point(0, 25) },
        { UnitPaths.Units[2], new Point(-25, -15) },
        { UnitPaths.Units[3], new Point(-25, 15) },
        { UnitPaths.Units[4], new Point(25, -15) },
        { UnitPaths.Units[5], new Point(25, 15) },
        { UnitPaths.Units[6], new Point(0, -25) },
        { UnitPaths.Units[7], new Point(0, 25) },
        { UnitPaths.Units[8], new Point(-25, -15) },
        { UnitPaths.Units[9], new Point(-25, 15) },
        { UnitPaths.Units[10], new Point(25, -15) },
        { UnitPaths.Units[11], new Point(25, 15) },
    };

}